{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport React, { useRef, useState, useEffect, useCallback } from 'react';\nimport isUndefined from 'lodash/isUndefined';\nimport getPosition from 'dom-lib/getPosition';\nimport scrollTop from 'dom-lib/scrollTop';\nimport getHeight from 'dom-lib/getHeight';\nimport { List, AutoSizer } from '../Windowing';\nimport shallowEqual from '../utils/shallowEqual';\nimport { mergeRefs, useClassNames, useMount } from '../utils';\nimport ListboxOptionGroup from './ListboxOptionGroup';\nimport { groupOptions } from '../utils/getDataGroupBy';\nimport ListboxOption from './ListboxOption';\nvar Listbox = /*#__PURE__*/React.forwardRef(function Listbox(props, ref) {\n  var _props$options = props.options,\n    options = _props$options === void 0 ? [] : _props$options,\n    getOptionKey = props.getOptionKey,\n    groupBy = props.groupBy,\n    sort = props.sort,\n    _props$maxHeight = props.maxHeight,\n    maxHeight = _props$maxHeight === void 0 ? 320 : _props$maxHeight,\n    selectedOptionKey = props.selectedOptionKey,\n    _props$disabledOption = props.disabledOptionKeys,\n    disabledOptionKeys = _props$disabledOption === void 0 ? [] : _props$disabledOption,\n    _props$classPrefix = props.classPrefix,\n    classPrefix = _props$classPrefix === void 0 ? 'dropdown-menu' : _props$classPrefix,\n    _props$labelKey = props.labelKey,\n    labelKey = _props$labelKey === void 0 ? 'label' : _props$labelKey,\n    virtualized = props.virtualized,\n    listProps = props.listProps,\n    virtualizedListRef = props.listRef,\n    className = props.className,\n    style = props.style,\n    activeOptionKey = props.activeOptionKey,\n    optionClassPrefix = props.optionClassPrefix,\n    _props$rowHeight = props.rowHeight,\n    rowHeight = _props$rowHeight === void 0 ? 36 : _props$rowHeight,\n    _props$rowGroupHeight = props.rowGroupHeight,\n    rowGroupHeight = _props$rowGroupHeight === void 0 ? 48 : _props$rowGroupHeight,\n    renderMenuGroup = props.renderMenuGroup,\n    renderMenuItem = props.renderMenuItem,\n    onGroupTitleClick = props.onGroupTitleClick,\n    onSelect = props.onSelect,\n    rest = _objectWithoutPropertiesLoose(props, [\"options\", \"getOptionKey\", \"groupBy\", \"sort\", \"maxHeight\", \"selectedOptionKey\", \"disabledOptionKeys\", \"classPrefix\", \"labelKey\", \"virtualized\", \"listProps\", \"listRef\", \"className\", \"style\", \"activeOptionKey\", \"optionClassPrefix\", \"rowHeight\", \"rowGroupHeight\", \"renderMenuGroup\", \"renderMenuItem\", \"onGroupTitleClick\", \"onSelect\"]);\n  var group = typeof groupBy !== 'undefined';\n  var _useClassNames = useClassNames(classPrefix),\n    withClassPrefix = _useClassNames.withClassPrefix,\n    prefix = _useClassNames.prefix,\n    merge = _useClassNames.merge;\n  var classes = merge(className, withClassPrefix('items', {\n    grouped: group\n  }));\n  var menuBodyContainerRef = useRef(null);\n  var listRef = useRef(null);\n  var _useState = useState([]),\n    foldedGroupKeys = _useState[0],\n    setFoldedGroupKeys = _useState[1];\n  var handleGroupTitleClick = useCallback(function (key, event) {\n    var _listRef$current;\n    var nextGroupKeys = foldedGroupKeys.filter(function (item) {\n      return item !== key;\n    });\n    if (nextGroupKeys.length === foldedGroupKeys.length) {\n      nextGroupKeys.push(key);\n    }\n    setFoldedGroupKeys(nextGroupKeys);\n    onGroupTitleClick === null || onGroupTitleClick === void 0 ? void 0 : onGroupTitleClick(event); // See example https://codesandbox.io/s/grouped-list-with-sticky-headers-shgok?fontsize=14&file=/index.js:1314-1381\n\n    (_listRef$current = listRef.current) === null || _listRef$current === void 0 ? void 0 : _listRef$current.resetAfterIndex(0); // use group index to reduce calculation\n  }, [onGroupTitleClick, foldedGroupKeys]);\n  useEffect(function () {\n    var container = menuBodyContainerRef.current;\n    if (!container) {\n      return;\n    }\n    var activeItem = container.querySelector(\".\" + prefix('item-focus'));\n    if (!activeItem) {\n      activeItem = container.querySelector(\".\" + prefix('item-active'));\n    }\n    if (!activeItem) {\n      return;\n    }\n    var position = getPosition(activeItem, container);\n    var sTop = scrollTop(container);\n    var sHeight = getHeight(container);\n    if (sTop > position.top) {\n      scrollTop(container, Math.max(0, position.top - 20));\n    } else if (position.top > sTop + sHeight) {\n      scrollTop(container, Math.max(0, position.top - sHeight + 32));\n    }\n  }, [activeOptionKey, menuBodyContainerRef, prefix]);\n  useMount(function scrollToSelectedOption() {\n    if (virtualized && selectedOptionKey) {\n      if (typeof groupBy === 'undefined') {\n        var _listRef$current2;\n        var selectedOptionIndex = options.findIndex(function (option) {\n          return (getOptionKey === null || getOptionKey === void 0 ? void 0 : getOptionKey(option)) === selectedOptionKey;\n        });\n        (_listRef$current2 = listRef.current) === null || _listRef$current2 === void 0 ? void 0 : _listRef$current2.scrollToItem(selectedOptionIndex);\n      } else {\n        var _listRef$current3;\n        var groups = groupOptions(options, groupBy, sort === null || sort === void 0 ? void 0 : sort(false), sort === null || sort === void 0 ? void 0 : sort(true));\n        var selectedGroupIndex = groups.findIndex(function (group) {\n          return group.key === selectedOptionKey;\n        }); // TODO-Doma\n        // This only scrolls the list to the group, not to the selected item within the group\n        // .scrollToItem does not support specifying an px offset\n        // Find a way to scroll to the selected item within the group\n\n        (_listRef$current3 = listRef.current) === null || _listRef$current3 === void 0 ? void 0 : _listRef$current3.scrollToItem(selectedGroupIndex);\n      }\n    }\n  });\n  var renderOption = useCallback(function (option) {\n    var _getOptionKey;\n    var optionKey = (_getOptionKey = getOptionKey === null || getOptionKey === void 0 ? void 0 : getOptionKey(option)) !== null && _getOptionKey !== void 0 ? _getOptionKey : JSON.stringify(option);\n    var label = option[labelKey];\n    var disabled = disabledOptionKeys === null || disabledOptionKeys === void 0 ? void 0 : disabledOptionKeys.some(function (disabledValue) {\n      return shallowEqual(disabledValue, optionKey);\n    });\n    var selected = shallowEqual(selectedOptionKey, optionKey);\n    var focus = !isUndefined(activeOptionKey) && shallowEqual(activeOptionKey, optionKey);\n    return /*#__PURE__*/React.createElement(ListboxOption, {\n      key: optionKey,\n      disabled: disabled,\n      selected: selected,\n      active: focus,\n      \"data-key\": optionKey,\n      classPrefix: optionClassPrefix,\n      onClick: function onClick(event) {\n        if (!disabled) {\n          onSelect === null || onSelect === void 0 ? void 0 : onSelect(optionKey, option, event);\n        }\n      }\n    }, renderMenuItem ? renderMenuItem(label, option) : label);\n  }, [getOptionKey, labelKey, disabledOptionKeys, selectedOptionKey, activeOptionKey, optionClassPrefix, renderMenuItem, onSelect]);\n  var renderOptions = useCallback(function (options) {\n    return options.map(function (option) {\n      return renderOption(option);\n    });\n  }, [renderOption]);\n  var renderOptionGroup = useCallback(function (group) {\n    var groupKey = group.key;\n    var expanded = !foldedGroupKeys.includes(groupKey);\n    return /*#__PURE__*/React.createElement(ListboxOptionGroup, {\n      key: groupKey,\n      title: renderMenuGroup ? renderMenuGroup(groupKey, group) : groupKey,\n      classPrefix: 'picker-menu-group',\n      expanded: expanded,\n      onClickTitle: function onClickTitle(e) {\n        return handleGroupTitleClick(group.key, e);\n      }\n    }, renderOptions(group.options));\n  }, [foldedGroupKeys, handleGroupTitleClick, renderMenuGroup, renderOptions]);\n  var renderOptionGroups = useCallback(function (groupKey) {\n    var groups = groupOptions(options, groupKey, sort === null || sort === void 0 ? void 0 : sort(false), sort === null || sort === void 0 ? void 0 : sort(true));\n    return groups.map(function (group) {\n      return renderOptionGroup(group);\n    });\n  }, [options, renderOptionGroup, sort]);\n  var renderVirtualizedOptions = useCallback(function () {\n    return /*#__PURE__*/React.createElement(AutoSizer, {\n      defaultHeight: maxHeight,\n      style: {\n        width: 'auto',\n        height: 'auto'\n      }\n    }, function (_ref) {\n      var height = _ref.height;\n      return /*#__PURE__*/React.createElement(List, _extends({\n        ref: mergeRefs(listRef, virtualizedListRef),\n        height: height || maxHeight,\n        itemCount: options.length,\n        itemSize: rowHeight\n      }, listProps), function (_ref2) {\n        var index = _ref2.index;\n        return renderOption(options[index]);\n      });\n    });\n  }, [listProps, maxHeight, options, renderOption, rowHeight, virtualizedListRef]); // Example of rendering option groups in VariableSizeList\n  // https://github.com/bvaughn/react-window/issues/358\n\n  var renderVirtualizedOptionGroups = useCallback(function (groupKey) {\n    var groups = groupOptions(options, groupKey, sort === null || sort === void 0 ? void 0 : sort(false), sort === null || sort === void 0 ? void 0 : sort(true));\n    return /*#__PURE__*/React.createElement(AutoSizer, {\n      defaultHeight: maxHeight,\n      style: {\n        width: 'auto',\n        height: 'auto'\n      }\n    }, function (_ref3) {\n      var height = _ref3.height;\n      return /*#__PURE__*/React.createElement(List, _extends({\n        ref: mergeRefs(listRef, virtualizedListRef),\n        height: height || maxHeight,\n        itemCount: groups.length,\n        itemSize: function itemSize(index) {\n          var item = groups[index];\n          var expanded = !foldedGroupKeys.includes(item.key);\n          if (expanded) {\n            return item.options.length * rowHeight + rowGroupHeight;\n          }\n          return rowGroupHeight;\n        }\n      }, listProps), function (_ref4) {\n        var index = _ref4.index;\n        return renderOptionGroup(groups[index]);\n      });\n    });\n  }, [foldedGroupKeys, listProps, maxHeight, options, renderOptionGroup, rowGroupHeight, rowHeight, sort, virtualizedListRef]);\n  return /*#__PURE__*/React.createElement(\"div\", _extends({\n    role: \"listbox\"\n  }, rest, {\n    className: classes,\n    ref: mergeRefs(menuBodyContainerRef, ref),\n    style: _extends({}, style, {\n      maxHeight: maxHeight\n    })\n  }), typeof groupBy === 'undefined' ? virtualized ? renderVirtualizedOptions() : renderOptions(options) : virtualized ? renderVirtualizedOptionGroups(groupBy) : renderOptionGroups(groupBy));\n});\nexport default Listbox;","map":{"version":3,"names":["_extends","_objectWithoutPropertiesLoose","React","useRef","useState","useEffect","useCallback","isUndefined","getPosition","scrollTop","getHeight","List","AutoSizer","shallowEqual","mergeRefs","useClassNames","useMount","ListboxOptionGroup","groupOptions","ListboxOption","Listbox","forwardRef","props","ref","_props$options","options","getOptionKey","groupBy","sort","_props$maxHeight","maxHeight","selectedOptionKey","_props$disabledOption","disabledOptionKeys","_props$classPrefix","classPrefix","_props$labelKey","labelKey","virtualized","listProps","virtualizedListRef","listRef","className","style","activeOptionKey","optionClassPrefix","_props$rowHeight","rowHeight","_props$rowGroupHeight","rowGroupHeight","renderMenuGroup","renderMenuItem","onGroupTitleClick","onSelect","rest","group","_useClassNames","withClassPrefix","prefix","merge","classes","grouped","menuBodyContainerRef","_useState","foldedGroupKeys","setFoldedGroupKeys","handleGroupTitleClick","key","event","_listRef$current","nextGroupKeys","filter","item","length","push","current","resetAfterIndex","container","activeItem","querySelector","position","sTop","sHeight","top","Math","max","scrollToSelectedOption","_listRef$current2","selectedOptionIndex","findIndex","option","scrollToItem","_listRef$current3","groups","selectedGroupIndex","renderOption","_getOptionKey","optionKey","JSON","stringify","label","disabled","some","disabledValue","selected","focus","createElement","active","onClick","renderOptions","map","renderOptionGroup","groupKey","expanded","includes","title","onClickTitle","e","renderOptionGroups","renderVirtualizedOptions","defaultHeight","width","height","_ref","itemCount","itemSize","_ref2","index","renderVirtualizedOptionGroups","_ref3","_ref4","role"],"sources":["/home/asmane/vtc/node_modules/rsuite/esm/SelectPicker/Listbox.js"],"sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport React, { useRef, useState, useEffect, useCallback } from 'react';\nimport isUndefined from 'lodash/isUndefined';\nimport getPosition from 'dom-lib/getPosition';\nimport scrollTop from 'dom-lib/scrollTop';\nimport getHeight from 'dom-lib/getHeight';\nimport { List, AutoSizer } from '../Windowing';\nimport shallowEqual from '../utils/shallowEqual';\nimport { mergeRefs, useClassNames, useMount } from '../utils';\nimport ListboxOptionGroup from './ListboxOptionGroup';\nimport { groupOptions } from '../utils/getDataGroupBy';\nimport ListboxOption from './ListboxOption';\nvar Listbox = /*#__PURE__*/React.forwardRef(function Listbox(props, ref) {\n  var _props$options = props.options,\n      options = _props$options === void 0 ? [] : _props$options,\n      getOptionKey = props.getOptionKey,\n      groupBy = props.groupBy,\n      sort = props.sort,\n      _props$maxHeight = props.maxHeight,\n      maxHeight = _props$maxHeight === void 0 ? 320 : _props$maxHeight,\n      selectedOptionKey = props.selectedOptionKey,\n      _props$disabledOption = props.disabledOptionKeys,\n      disabledOptionKeys = _props$disabledOption === void 0 ? [] : _props$disabledOption,\n      _props$classPrefix = props.classPrefix,\n      classPrefix = _props$classPrefix === void 0 ? 'dropdown-menu' : _props$classPrefix,\n      _props$labelKey = props.labelKey,\n      labelKey = _props$labelKey === void 0 ? 'label' : _props$labelKey,\n      virtualized = props.virtualized,\n      listProps = props.listProps,\n      virtualizedListRef = props.listRef,\n      className = props.className,\n      style = props.style,\n      activeOptionKey = props.activeOptionKey,\n      optionClassPrefix = props.optionClassPrefix,\n      _props$rowHeight = props.rowHeight,\n      rowHeight = _props$rowHeight === void 0 ? 36 : _props$rowHeight,\n      _props$rowGroupHeight = props.rowGroupHeight,\n      rowGroupHeight = _props$rowGroupHeight === void 0 ? 48 : _props$rowGroupHeight,\n      renderMenuGroup = props.renderMenuGroup,\n      renderMenuItem = props.renderMenuItem,\n      onGroupTitleClick = props.onGroupTitleClick,\n      onSelect = props.onSelect,\n      rest = _objectWithoutPropertiesLoose(props, [\"options\", \"getOptionKey\", \"groupBy\", \"sort\", \"maxHeight\", \"selectedOptionKey\", \"disabledOptionKeys\", \"classPrefix\", \"labelKey\", \"virtualized\", \"listProps\", \"listRef\", \"className\", \"style\", \"activeOptionKey\", \"optionClassPrefix\", \"rowHeight\", \"rowGroupHeight\", \"renderMenuGroup\", \"renderMenuItem\", \"onGroupTitleClick\", \"onSelect\"]);\n\n  var group = typeof groupBy !== 'undefined';\n\n  var _useClassNames = useClassNames(classPrefix),\n      withClassPrefix = _useClassNames.withClassPrefix,\n      prefix = _useClassNames.prefix,\n      merge = _useClassNames.merge;\n\n  var classes = merge(className, withClassPrefix('items', {\n    grouped: group\n  }));\n  var menuBodyContainerRef = useRef(null);\n  var listRef = useRef(null);\n\n  var _useState = useState([]),\n      foldedGroupKeys = _useState[0],\n      setFoldedGroupKeys = _useState[1];\n\n  var handleGroupTitleClick = useCallback(function (key, event) {\n    var _listRef$current;\n\n    var nextGroupKeys = foldedGroupKeys.filter(function (item) {\n      return item !== key;\n    });\n\n    if (nextGroupKeys.length === foldedGroupKeys.length) {\n      nextGroupKeys.push(key);\n    }\n\n    setFoldedGroupKeys(nextGroupKeys);\n    onGroupTitleClick === null || onGroupTitleClick === void 0 ? void 0 : onGroupTitleClick(event); // See example https://codesandbox.io/s/grouped-list-with-sticky-headers-shgok?fontsize=14&file=/index.js:1314-1381\n\n    (_listRef$current = listRef.current) === null || _listRef$current === void 0 ? void 0 : _listRef$current.resetAfterIndex(0); // use group index to reduce calculation\n  }, [onGroupTitleClick, foldedGroupKeys]);\n  useEffect(function () {\n    var container = menuBodyContainerRef.current;\n\n    if (!container) {\n      return;\n    }\n\n    var activeItem = container.querySelector(\".\" + prefix('item-focus'));\n\n    if (!activeItem) {\n      activeItem = container.querySelector(\".\" + prefix('item-active'));\n    }\n\n    if (!activeItem) {\n      return;\n    }\n\n    var position = getPosition(activeItem, container);\n    var sTop = scrollTop(container);\n    var sHeight = getHeight(container);\n\n    if (sTop > position.top) {\n      scrollTop(container, Math.max(0, position.top - 20));\n    } else if (position.top > sTop + sHeight) {\n      scrollTop(container, Math.max(0, position.top - sHeight + 32));\n    }\n  }, [activeOptionKey, menuBodyContainerRef, prefix]);\n  useMount(function scrollToSelectedOption() {\n    if (virtualized && selectedOptionKey) {\n      if (typeof groupBy === 'undefined') {\n        var _listRef$current2;\n\n        var selectedOptionIndex = options.findIndex(function (option) {\n          return (getOptionKey === null || getOptionKey === void 0 ? void 0 : getOptionKey(option)) === selectedOptionKey;\n        });\n        (_listRef$current2 = listRef.current) === null || _listRef$current2 === void 0 ? void 0 : _listRef$current2.scrollToItem(selectedOptionIndex);\n      } else {\n        var _listRef$current3;\n\n        var groups = groupOptions(options, groupBy, sort === null || sort === void 0 ? void 0 : sort(false), sort === null || sort === void 0 ? void 0 : sort(true));\n        var selectedGroupIndex = groups.findIndex(function (group) {\n          return group.key === selectedOptionKey;\n        }); // TODO-Doma\n        // This only scrolls the list to the group, not to the selected item within the group\n        // .scrollToItem does not support specifying an px offset\n        // Find a way to scroll to the selected item within the group\n\n        (_listRef$current3 = listRef.current) === null || _listRef$current3 === void 0 ? void 0 : _listRef$current3.scrollToItem(selectedGroupIndex);\n      }\n    }\n  });\n  var renderOption = useCallback(function (option) {\n    var _getOptionKey;\n\n    var optionKey = (_getOptionKey = getOptionKey === null || getOptionKey === void 0 ? void 0 : getOptionKey(option)) !== null && _getOptionKey !== void 0 ? _getOptionKey : JSON.stringify(option);\n    var label = option[labelKey];\n    var disabled = disabledOptionKeys === null || disabledOptionKeys === void 0 ? void 0 : disabledOptionKeys.some(function (disabledValue) {\n      return shallowEqual(disabledValue, optionKey);\n    });\n    var selected = shallowEqual(selectedOptionKey, optionKey);\n    var focus = !isUndefined(activeOptionKey) && shallowEqual(activeOptionKey, optionKey);\n    return /*#__PURE__*/React.createElement(ListboxOption, {\n      key: optionKey,\n      disabled: disabled,\n      selected: selected,\n      active: focus,\n      \"data-key\": optionKey,\n      classPrefix: optionClassPrefix,\n      onClick: function onClick(event) {\n        if (!disabled) {\n          onSelect === null || onSelect === void 0 ? void 0 : onSelect(optionKey, option, event);\n        }\n      }\n    }, renderMenuItem ? renderMenuItem(label, option) : label);\n  }, [getOptionKey, labelKey, disabledOptionKeys, selectedOptionKey, activeOptionKey, optionClassPrefix, renderMenuItem, onSelect]);\n  var renderOptions = useCallback(function (options) {\n    return options.map(function (option) {\n      return renderOption(option);\n    });\n  }, [renderOption]);\n  var renderOptionGroup = useCallback(function (group) {\n    var groupKey = group.key;\n    var expanded = !foldedGroupKeys.includes(groupKey);\n    return /*#__PURE__*/React.createElement(ListboxOptionGroup, {\n      key: groupKey,\n      title: renderMenuGroup ? renderMenuGroup(groupKey, group) : groupKey,\n      classPrefix: 'picker-menu-group',\n      expanded: expanded,\n      onClickTitle: function onClickTitle(e) {\n        return handleGroupTitleClick(group.key, e);\n      }\n    }, renderOptions(group.options));\n  }, [foldedGroupKeys, handleGroupTitleClick, renderMenuGroup, renderOptions]);\n  var renderOptionGroups = useCallback(function (groupKey) {\n    var groups = groupOptions(options, groupKey, sort === null || sort === void 0 ? void 0 : sort(false), sort === null || sort === void 0 ? void 0 : sort(true));\n    return groups.map(function (group) {\n      return renderOptionGroup(group);\n    });\n  }, [options, renderOptionGroup, sort]);\n  var renderVirtualizedOptions = useCallback(function () {\n    return /*#__PURE__*/React.createElement(AutoSizer, {\n      defaultHeight: maxHeight,\n      style: {\n        width: 'auto',\n        height: 'auto'\n      }\n    }, function (_ref) {\n      var height = _ref.height;\n      return /*#__PURE__*/React.createElement(List, _extends({\n        ref: mergeRefs(listRef, virtualizedListRef),\n        height: height || maxHeight,\n        itemCount: options.length,\n        itemSize: rowHeight\n      }, listProps), function (_ref2) {\n        var index = _ref2.index;\n        return renderOption(options[index]);\n      });\n    });\n  }, [listProps, maxHeight, options, renderOption, rowHeight, virtualizedListRef]); // Example of rendering option groups in VariableSizeList\n  // https://github.com/bvaughn/react-window/issues/358\n\n  var renderVirtualizedOptionGroups = useCallback(function (groupKey) {\n    var groups = groupOptions(options, groupKey, sort === null || sort === void 0 ? void 0 : sort(false), sort === null || sort === void 0 ? void 0 : sort(true));\n    return /*#__PURE__*/React.createElement(AutoSizer, {\n      defaultHeight: maxHeight,\n      style: {\n        width: 'auto',\n        height: 'auto'\n      }\n    }, function (_ref3) {\n      var height = _ref3.height;\n      return /*#__PURE__*/React.createElement(List, _extends({\n        ref: mergeRefs(listRef, virtualizedListRef),\n        height: height || maxHeight,\n        itemCount: groups.length,\n        itemSize: function itemSize(index) {\n          var item = groups[index];\n          var expanded = !foldedGroupKeys.includes(item.key);\n\n          if (expanded) {\n            return item.options.length * rowHeight + rowGroupHeight;\n          }\n\n          return rowGroupHeight;\n        }\n      }, listProps), function (_ref4) {\n        var index = _ref4.index;\n        return renderOptionGroup(groups[index]);\n      });\n    });\n  }, [foldedGroupKeys, listProps, maxHeight, options, renderOptionGroup, rowGroupHeight, rowHeight, sort, virtualizedListRef]);\n  return /*#__PURE__*/React.createElement(\"div\", _extends({\n    role: \"listbox\"\n  }, rest, {\n    className: classes,\n    ref: mergeRefs(menuBodyContainerRef, ref),\n    style: _extends({}, style, {\n      maxHeight: maxHeight\n    })\n  }), typeof groupBy === 'undefined' ? virtualized ? renderVirtualizedOptions() : renderOptions(options) : virtualized ? renderVirtualizedOptionGroups(groupBy) : renderOptionGroups(groupBy));\n});\nexport default Listbox;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}